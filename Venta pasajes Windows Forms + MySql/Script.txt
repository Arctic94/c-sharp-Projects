CREATE DATABASE PASAJES;

USE PASAJES;

CREATE TABLE PASAJE_BASE(
ID INTEGER PRIMARY KEY AUTO_INCREMENT,
NOMBRE_PASAJERO VARCHAR(200) NOT NULL,
RUT VARCHAR(13) NOT NULL, 
SEXO VARCHAR(1) NOT NULL,
FECHA_NACIMIENTO DATETIME NOT NULL,
DIRECCION VARCHAR(200) NOT NULL,
TELEFONO_EMERGENCIA VARCHAR(20) NOT NULL,
TELEFONO_CONTACTO VARCHAR(20) NOT NULL,
DESTINO VARCHAR(30) NOT NULL,
FECHA_VIAJE DATETIME NOT NULL
);

CREATE TABLE PASAJE_AEREO(
CODIGO VARCHAR(20) PRIMARY KEY,
ID_PASAJE INTEGER NOT NULL,
TERMINAL_AEREA VARCHAR(50) NOT NULL,
TIPO_AERONAVE VARCHAR(20) NOT NULL,
CONSTRAINT FK_PASAJE_AEREO FOREIGN KEY(ID_PASAJE) REFERENCES PASAJE_BASE(ID)
);

CREATE TABLE PASAJE_TERRESTRE(
CODIGO VARCHAR(20) PRIMARY KEY,
ID_PASAJE INTEGER NOT NULL,
TERMINAL VARCHAR(50) NOT NULL,
NRO_ASIENTO VARCHAR(20) NOT NULL,
CONSTRAINT FK_PASAJE_TERRESTRE FOREIGN KEY(ID_PASAJE) REFERENCES PASAJE_BASE(ID)
);

CREATE TABLE PASAJE_MARINO(
CODIGO VARCHAR(20) PRIMARY KEY,
ID_PASAJE INTEGER NOT NULL,
NOMBRE_MUELLE VARCHAR(50) NOT NULL,
CONSTRAINT FK_PASAJE_MARINO FOREIGN KEY(ID_PASAJE) REFERENCES PASAJE_BASE(ID)
);


